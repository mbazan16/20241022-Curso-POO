<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Buscador Direcciones</title>
</head>
<body>
<div>
  <form action="/direccion">
    <label for="idPais">Pais:</label>
    <select id="idPais" name="idPais">
      <option value="">Seleccione Pais</option>
      <option th:each="pais:${paises}" th:value="${pais.id}" th:text="${pais.nombre}"></option>
    </select>
    <button>Enviar</button>
  </form>
</div>
<div th:if="${listado.isEmpty()}">
  Este pais no tiene direcciones registradas
</div>
<div th:if="${not listado.isEmpty()}">
  <h2>Direcciones</h2>
  <table>
    <thead>
      <tr>
        <th>Calle</th>
        <th>Codigo Postal</th>
        <th>Ciudad</th>
        <th>Provincia</th>
        <th>Pais</th>
        <th>Region</th>
      </tr>
    </thead>
    <tbody>
     <tr th:each="direccion:${listado}">
       <td th:text="${direccion.calle}"></td>
       <td th:text="${direccion.codigoPostal}"></td>
       <td th:text="${direccion.ciudad}"></td>
       <td th:text="${direccion.provincia}"></td>
       <td th:text="${direccion.pais.nombre}"></td>
       <td th:text="${direccion.pais.region.nombre}"></td>
     </tr>
    </tbody>
  </table>
</div>

</body>
</html>